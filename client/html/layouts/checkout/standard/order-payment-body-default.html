<?php

/**
 * @copyright Copyright (c) Metaways Infosystems GmbH, 2013
 * @license LGPLv3, http://www.arcavias.com/en/license
 */

if( isset( $this->paymentForm ) )
{
	$url = $this->paymentForm->getUrl();
	$method = $this->paymentForm->getMethod();
	$params = $this->paymentForm->getValues();
}
else
{
	$url = $method = '';
	$params = array();
}

?>
<div class="checkout-standard-order-payment" data-url="<?php echo $url; ?>">
	<h2><?php echo $this->translate( 'client/html', 'Payment' ); ?></h2>
	<p class="order-notice"><?php echo $this->translate( 'client/html', 'You will now be forwarded to the next step' ); ?></p>
<?php if( $method === 'REDIRECT' ) : ?>
	<noscript>
		<a class="standardbutton" href="<?php echo $url; ?>"><?php echo $this->translate( 'client/html', 'Proceed' ); ?></a>
	</noscript>
<?php elseif( $method && $url ) : ?>
	<form method="<?php echo $method; ?>" action="<?php echo $url; ?>">
<?php	foreach( $params as $key => $value ) : ?>
		<input type="hidden" name="<?php echo $key; ?>" value="<?php echo $value; ?>" />
<?php	endforeach; ?>
<?php echo $this->get( 'paymentBody' ); ?>
		<noscript>
			<button class="standardbutton"><?php echo $this->translate( 'client/html', 'Proceed' ); ?></button>
		</noscript>
	</form>
<?php endif; ?>
</div>
