<?php

/**
 * @copyright Copyright (c) Metaways Infosystems GmbH, 2013
 * @license LGPLv3, http://www.arcavias.com/en/license
 */

$enc = $this->encoder();
$phrase = $enc->attr( $this->param( 'f-search-text' ) );
$name = $enc->attr( $this->formparam( 'f-search-text' ) );
$hint = $this->translate( 'client/html', 'Please enter at least three characters' );

$listSimpleTarget = $this->config( 'client/html/catalog/listsimple/url/target' );
$listSimpleController = $this->config( 'client/html/catalog/listsimple/url/controller', 'catalog' );
$listSimpleAction = $this->config( 'client/html/catalog/listsimple/url/action', 'listsimple' );
$listSimpleConfig = $this->config( 'client/html/catalog/listsimple/url/config', array() );

$listSimpleUrl = $enc->attr( $this->url( $listSimpleTarget, $listSimpleController, $listSimpleAction, array(), array(), $listSimpleConfig ) );

?>
<section class="catalog-filter-search">
	<input class="value" type="text" name="<?php echo $name; ?>" value="<?php echo $phrase; ?>" data-url="<?php echo $listSimpleUrl; ?>" data-hint="<?php echo $hint; ?>" /><!--
	--><button class="standardbutton" type="submit"><?php echo $enc->html( $this->translate( 'client/html', 'Go' ), $enc::TRUST ); ?></button>
<?php echo $this->get( 'searchBody' ); ?>
</section>