<?php

/**
 * @copyright Copyright (c) Metaways Infosystems GmbH, 2012
 * @license LGPLv3, http://www.arcavias.com/en/license
 */

$listTarget = $this->config( 'client/html/catalog/list/url/target' );
$listController = $this->config( 'client/html/catalog/list/url/controller', 'catalog' );
$listAction = $this->config( 'client/html/catalog/list/url/action', 'list' );
$listConfig = $this->config( 'client/html/catalog/list/url/config', array() );

$enc = $this->encoder();

?>
<section class="arcavias catalog-filter">
<?php if( isset( $this->filterErrorList ) ) : ?>
	<ul class="error-list">
<?php	foreach( (array) $this->filterErrorList as $errmsg ) : ?>
		<li class="error-item"><?php echo $enc->html( $errmsg ); ?></li>
<?php	endforeach; ?>
	</ul>
<?php endif; ?>
	<nav>
		<form method="POST" action="<?php echo $enc->attr( $this->url( $listTarget, $listController, $listAction ) ); ?>">
<?php echo $this->get( 'filterBody' ); ?>
<?php if( $this->config( 'client/html/catalog/filter/default/button', true ) ) : ?>
			<noscript>
				<button class="filter standardbutton btn-action" type="submit"><?php echo $enc->html( $this->translate( 'client/html', 'Show' ), $enc::TRUST ); ?></button>
			</noscript>
<?php endif; ?>
		</form>
	</nav>
</section>
